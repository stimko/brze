{"version":3,"file":"server.js","sources":["webpack:///webpack/bootstrap aa167348708553b7815a","webpack:///./build/assets.json","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./public/fonts/Gilroy-Bold.woff","webpack:///./public/fonts/Gilroy-Heavy.woff","webpack:///./public/fonts/Gilroy-Light.woff","webpack:///./public/fonts/Gilroy-Medium.woff","webpack:///./public/fonts/Gilroy-Regular.woff","webpack:///./public/fonts/Gilroy-UltraLight.woff","webpack:///./src/App.css","webpack:///src/App.js","webpack:///./src/SignUp/SignUp.css","webpack:///src/SignUp/SignUp.js","webpack:///src/SignUp/SignUpForm.js","webpack:///./src/fonts.css","webpack:///src/index.js","webpack:///./src/reset.css","webpack:///src/server.js","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"babel-runtime/core-js/object/get-prototype-of\"","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///external \"babel-runtime/helpers/inherits\"","webpack:///external \"babel-runtime/helpers/possibleConstructorReturn\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"body-parser\"","webpack:///external \"express\"","webpack:///external \"pg\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"twilio\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aa167348708553b7815a","module.exports = {\"client\":{\"js\":\"/static/js/bundle.6e8da997.js\",\"css\":\"/static/css/bundle.a2f2403f.css\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/assets.json\n// module id = ./build/assets.json\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = ./node_modules/css-loader/lib/css-base.js\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/Gilroy-Bold.06673e71.woff\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/fonts/Gilroy-Bold.woff\n// module id = ./public/fonts/Gilroy-Bold.woff\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/Gilroy-Heavy.dd20df36.woff\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/fonts/Gilroy-Heavy.woff\n// module id = ./public/fonts/Gilroy-Heavy.woff\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/Gilroy-Light.d4593ac3.woff\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/fonts/Gilroy-Light.woff\n// module id = ./public/fonts/Gilroy-Light.woff\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/Gilroy-Medium.45ca2168.woff\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/fonts/Gilroy-Medium.woff\n// module id = ./public/fonts/Gilroy-Medium.woff\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/Gilroy-Regular.3796c599.woff\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/fonts/Gilroy-Regular.woff\n// module id = ./public/fonts/Gilroy-Regular.woff\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/Gilroy-UltraLight.46dadd56.woff\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/fonts/Gilroy-UltraLight.woff\n// module id = ./public/fonts/Gilroy-UltraLight.woff\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\n  padding: 1em;\\n}\\n\\nh1 {\\n  font-size: 2em;\\n  padding: 0.5em;\\n  border-top: 0.05em solid #dadada;\\n}\\n\\n.easy {\\n  font-weight: 200;\\n  font-size: 1.5em;\\n}\\n\\n.brzeLogo {\\n  width: 100%;\\n  max-width: 30em;\\n}\\n\\n.makingPickupEasy {\\n  font-weight: 200;\\n}\\n\\n.numberLink {\\n  color: black; \\n  background-color: transparent; \\n  text-decoration: none;\\n  font-weight: 500;\\n}\\n\\n.carriers {\\n  color: #00a39c;\\n  font-weight: normal;\\n  white-space: nowrap;\\n}\\n\\n.intro {\\n  background-color: #00a39c;\\n  color: white;\\n  padding: 1.25em;\\n  font-weight: 200;\\n}\\n\\n.verticalBrze {\\n  background-color: black;\\n  padding: 0.4em 0.2em;\\n  font-weight: 500;\\n  font-size: 3em;\\n  float: right;\\n  color: white;\\n  text-orientation: sideways;\\n  writing-mode: vertical-rl;\\n}\\n\\n.finally {\\n  font-size: 1.5em;\\n  font-weight: 200;\\n  line-height: 1.3em;\\n}\\n\\n.finally .carriers {\\n  font-size: inherit;\\n  color: inherit;\\n  font-weight: 500;\\n}\\n\\n.title {\\n  font-size: 2em;\\n  padding-bottom: 0.3em;\\n}\\n\\n.fontWeight500 {\\n  font-weight: 500;\\n}\\n\\n.num {\\n  color: #00a39c;\\n  font-weight: 500;\\n  font-size: 1.4em;\\n  padding-right: 0.2em;\\n}\\n\\n.numWrapper {\\n  padding: 0.3em 0;\\n}\\n\\n.currently {\\n  font-weight: 500;\\n  font-size: 0.8em;\\n}\\n\\n.steps {\\n  padding: 1em;\\n  line-height: 1.4em;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.css\n// module id = ./src/App.css\n// module chunks = 0","import \"./reset.css\";\nimport \"./fonts.css\";\nimport \"./App.css\";\nimport SignUp from \"./SignUp/SignUp\";\n\nimport React from \"react\";\n\nconst num = n => <span className=\"num\">{n}</span>;\n\nconst App = () => (\n  <div>\n    <img className=\"brzeLogo\" alt=\"Brze\" src=\"/images/brze.png\" />\n    <h1>\n      <span className=\"makingPickupEasy\">Making pickup easy! </span>\n      <span className=\"carriers\">FedEx • USPS • UPS</span>\n    </h1>\n    <div className=\"intro\">\n      <div className=\"title\">\n        <span className=\"fontWeight500\">Introducing Brze. </span>\n        <span>Returns Made Easy!</span>\n      </div>\n      <div className=\"finally\">\n        Finally, an affordable service that will pick up your package/s from\n        your home and drop them off at\n        <span className=\"carriers\"> FedEx, USPS, or UPS.</span>\n      </div>\n    </div>\n    <div className=\"easy\">\n      <div className=\"verticalBrze\">Brze</div>\n      <div className=\"steps\">\n        <span>\n          It’s as simple as\n          <span className=\"fontWeight500\"> 1, 2, 3</span>\n          <span>!</span>\n        </span>\n        <div className=\"numWrapper\">\n          {num(\"1 \")}\n          <span className=\"fontWeight500\">TEXT US </span>\n          <span>at </span>\n          <a href=\"sms:201-806-656-4\" className=\"numberLink\">201.806.6564</a>\n        </div>\n        <div className=\"numWrapper\">\n          {num(\"2 \")}\n          <span>We come and pickup your packages*</span>\n        </div>\n        <div className=\"numWrapper\">\n          {num(\"3 \")}\n          <span>\n            We text you a confirmation that inclides an image and tracking\n            number after delivery\n          </span>\n        </div>\n        <div className=\"currently\"> *Currently in Summit, NJ Only</div>\n      </div>\n    </div>\n    {SignUp()}\n  </div>\n);\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// src/App.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".signUp {\\n  border-top: .05em solid #DADADA;\\n  padding: 2em;\\n}\\n\\n.signUpTitle {\\n  font-size: 2em;\\n}\\n\\n.signUpInputWrapper {\\n  padding-top: 1em;\\n  font-size: 1.5em;\\n}\\n\\n.signUpInput {\\n  padding: 0.2em;\\n  font-size: 1em;\\n}\\n\\n.err {\\n  font-size: 2em;\\n}\\n\\n.signUpButton {\\n  width: 110px;\\n  height: 50px;\\n  background-color: #000000;\\n  font-family: inherit;\\n  color: #FFFFFF;\\n  font-size: 1.3em;\\n  border: none;\\n  border-radius: 0;\\n  margin-top: 1em;\\n  cursor: pointer;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/SignUp/SignUp.css\n// module id = ./src/SignUp/SignUp.css\n// module chunks = 0","import React from \"react\";\nimport SignUpForm from \"./SignUpForm\";\nimport './SignUp.css';\n\nconst SignUp = () => (\n  <div className=\"signUp\">\n    <div className=\"signUpTitle\">Sign Up For Brze!</div>\n    <div> Required Field*</div>\n    <SignUpForm />\n  </div>\n);\n\nexport default SignUp;\n\n\n\n// WEBPACK FOOTER //\n// src/SignUp/SignUp.js","import React from \"react\";\n\nclass SignUpForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      phone: \"\",\n      address: \"\",\n      addressoptional: undefined,\n      email: \"\",\n      city: \"\",\n      zip: \"\",\n      state: \"NJ\",\n      signedUp: false,\n      submitDisabled: false,\n      password: \"\",\n      password2: \"\",\n      message: \"\"\n    };\n\n    this.requiredProps = [\n      \"name\",\n      \"phone\",\n      \"address\",\n      \"email\",\n      \"city\",\n      \"state\",\n      \"zip\",\n      \"password\",\n      \"password2\"\n    ];\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange = prop => event => {\n    const newState = {};\n    newState[prop] = event.target.value;\n    this.setState(newState);\n  };\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.state.password !== this.state.password2) {\n      this.setState({ message: \"Passwords must match!\" });\n    } else if (this.requiredProps.some(field => !this.state[field])) {\n      this.setState({ message: \"Please fill in required fields.\" });\n    } else {\n      this.setState({ submitDisabled: true });\n\n      fetch(\"/api/signup\", {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: JSON.stringify(this.state)\n      })\n        .then(resp => {\n          if(resp.ok) {\n            return resp.text();\n          }\n          throw new Error('Network response was not ok.');\n        })\n        .then(blob => {\n          debugger;\n          this.setState({ submitDisabled: false, message: blob });\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({submitDisabled: false, message: \"There was an error signing up!\" });\n        });\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"signUpInputWrapper\">\n          <div>Name*</div>\n          <input\n            className=\"signUpInput\"\n            value={this.state.name}\n            onChange={this.handleChange(\"name\")}\n          />\n        </div>\n        <div className=\"signUpInputWrapper\">\n          <div>Street Address*</div>\n          <input\n            className=\"signUpInput\"\n            value={this.state.address}\n            onChange={this.handleChange(\"address\")}\n          />\n        </div>\n        <div className=\"signUpInputWrapper\">\n          <div>Apt., Floor, Unit etc. (Optional)</div>\n          <input\n            className=\"signUpInput\"\n            value={this.state.addressoptional}\n            onChange={this.handleChange(\"addressoptional\")}\n          />\n        </div>\n        <div className=\"signUpInputWrapper\">\n          <div>City*</div>\n          <input\n            className=\"signUpInput\"\n            value={this.state.city}\n            onChange={this.handleChange(\"city\")}\n          />\n        </div>\n        <div className=\"signUpInputWrapper\">\n          <div>Zip Code*</div>\n          <input\n            className=\"signUpInput\"\n            value={this.state.zip}\n            onChange={this.handleChange(\"zip\")}\n          />\n        </div>\n        <div className=\"signUpInputWrapper\">\n          <div>State*</div>\n          <select className=\"signUpInput\" defaultValue=\"NJ\" onChange={this.handleChange(\"state\")}>\n            <option value=\"AL\">Alabama</option>\n            <option value=\"AK\">Alaska</option>\n            <option value=\"AZ\">Arizona</option>\n            <option value=\"AR\">Arkansas</option>\n            <option value=\"CA\">California</option>\n            <option value=\"CO\">Colorado</option>\n            <option value=\"CT\">Connecticut</option>\n            <option value=\"DE\">Delaware</option>\n            <option value=\"DC\">District Of Columbia</option>\n            <option value=\"FL\">Florida</option>\n            <option value=\"GA\">Georgia</option>\n            <option value=\"HI\">Hawaii</option>\n            <option value=\"ID\">Idaho</option>\n            <option value=\"IL\">Illinois</option>\n            <option value=\"IN\">Indiana</option>\n            <option value=\"IA\">Iowa</option>\n            <option value=\"KS\">Kansas</option>\n            <option value=\"KY\">Kentucky</option>\n            <option value=\"LA\">Louisiana</option>\n            <option value=\"ME\">Maine</option>\n            <option value=\"MD\">Maryland</option>\n            <option value=\"MA\">Massachusetts</option>\n            <option value=\"MI\">Michigan</option>\n            <option value=\"MN\">Minnesota</option>\n            <option value=\"MS\">Mississippi</option>\n            <option value=\"MO\">Missouri</option>\n            <option value=\"MT\">Montana</option>\n            <option value=\"NE\">Nebraska</option>\n            <option value=\"NV\">Nevada</option>\n            <option value=\"NH\">New Hampshire</option>\n            <option value=\"NJ\">New Jersey</option>\n            <option value=\"NM\">New Mexico</option>\n            <option value=\"NY\">New York</option>\n            <option value=\"NC\">North Carolina</option>\n            <option value=\"ND\">North Dakota</option>\n            <option value=\"OH\">Ohio</option>\n            <option value=\"OK\">Oklahoma</option>\n            <option value=\"OR\">Oregon</option>\n            <option value=\"PA\">Pennsylvania</option>\n            <option value=\"RI\">Rhode Island</option>\n            <option value=\"SC\">South Carolina</option>\n            <option value=\"SD\">South Dakota</option>\n            <option value=\"TN\">Tennessee</option>\n            <option value=\"TX\">Texas</option>\n            <option value=\"UT\">Utah</option>\n            <option value=\"VT\">Vermont</option>\n            <option value=\"VA\">Virginia</option>\n            <option value=\"WA\">Washington</option>\n            <option value=\"WV\">West Virginia</option>\n            <option value=\"WI\">Wisconsin</option>\n            <option value=\"WY\">Wyoming</option>\n          </select>\n        </div>\n   \n        <div className=\"signUpInputWrapper\">\n          <div>Phone Number*</div>\n          <input\n            className=\"signUpInput\"\n            value={this.state.phone}\n            onChange={this.handleChange(\"phone\")}\n          />\n        </div>\n        <div className=\"signUpInputWrapper\">\n          <div>Email*</div>\n          <input\n            className=\"signUpInput\"\n            value={this.state.email}\n            onChange={this.handleChange(\"email\")}\n          />\n        </div>\n        <div className=\"signUpInputWrapper\">\n          <div>Password*</div>\n          <input\n            type=\"password\"\n            className=\"signUpInput\"\n            value={this.state.password}\n            onChange={this.handleChange(\"password\")}\n          />\n        </div>\n        <div className=\"signUpInputWrapper\">\n          <div>Password Again*</div>\n          <input\n            type=\"password\"\n            className=\"signUpInput\"\n            value={this.state.password2}\n            onChange={this.handleChange(\"password2\")}\n          />\n        </div>\n        <div className=\"err\">{this.state.message}</div>\n        <input\n          className=\"signUpButton\"\n          disabled={this.state.submitDisabled}\n          type=\"submit\"\n          value=\"Submit\"\n        />\n      </form>\n    );\n  }\n}\n\nexport default SignUpForm;\n\n\n\n// WEBPACK FOOTER //\n// src/SignUp/SignUpForm.js","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"@font-face {\\n  font-family: \\\"Gilroy\\\";\\n  src: url(\" + require(\"../public/fonts/Gilroy-UltraLight.woff\") + \") format(\\\"woff\\\");\\n  font-weight: 100;\\n}\\n\\n@font-face {\\n  font-family: \\\"Gilroy\\\";\\n  src: url(\" + require(\"../public/fonts/Gilroy-Light.woff\") + \") format(\\\"woff\\\");\\n  font-weight: 200;\\n}\\n\\n@font-face {\\n  font-family: \\\"Gilroy\\\";\\n  src: url(\" + require(\"../public/fonts/Gilroy-Regular.woff\") + \") format(\\\"woff\\\");\\n  font-weight: 300;\\n}\\n\\n@font-face {\\n  font-family: \\\"Gilroy\\\";\\n  src: url(\" + require(\"../public/fonts/Gilroy-Medium.woff\") + \") format(\\\"woff\\\");\\n  font-weight: 400;\\n}\\n\\n@font-face {\\n  font-family: \\\"Gilroy\\\";\\n  src: url(\" + require(\"../public/fonts/Gilroy-Bold.woff\") + \") format(\\\"woff\\\");\\n  font-weight: 500;\\n}\\n\\n@font-face {\\n  font-family: \\\"Gilroy\\\";\\n  src: url(\" + require(\"../public/fonts/Gilroy-Heavy.woff\") + \") format(\\\"woff\\\");\\n  font-weight: 600;\\n}\\n\\nbody {\\n  font-family: \\\"Gilroy\\\";\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/fonts.css\n// module id = ./src/fonts.css\n// module chunks = 0","import express from 'express';\nimport app from './server';\n\nif (module.hot) {\n  module.hot.accept('./server', function() {\n    console.log('🔁  HMR Reloading `./server`...');\n  });\n  console.info('✅  Server-side HMR Enabled!');\n}\n\nconst port = process.env.RAZZLE_PORT || 3000;\n\nexport default express()\n  .use((req, res) => app.handle(req, res))\n  .listen(port, function(err) {\n    if (err) {\n      console.error(err);\n      return;\n    }\n    console.log(`> Started on port ${port}`);\n  });\n\n\n\n// WEBPACK FOOTER //\n// src/index.js","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"/* http://meyerweb.com/eric/tools/css/reset/ \\n   v2.0 | 20110126\\n   License: none (public domain)\\n*/\\n\\nhtml, body, div, span, applet, object, iframe,\\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\\na, abbr, acronym, address, big, cite, code,\\ndel, dfn, em, img, ins, kbd, q, s, samp,\\nsmall, strike, strong, sub, sup, tt, var,\\nb, u, i, center,\\ndl, dt, dd, ol, ul, li,\\nfieldset, form, label, legend,\\ntable, caption, tbody, tfoot, thead, tr, th, td,\\narticle, aside, canvas, details, embed, \\nfigure, figcaption, footer, header, hgroup, \\nmenu, nav, output, ruby, section, summary,\\ntime, mark, audio, video {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tborder: 0;\\n\\tfont-size: 100%;\\n\\tfont: inherit;\\n\\tvertical-align: baseline;\\n}\\n/* HTML5 display-role reset for older browsers */\\narticle, aside, details, figcaption, figure, \\nfooter, header, hgroup, menu, nav, section {\\n\\tdisplay: block;\\n}\\nbody {\\n\\tline-height: 1;\\n}\\nol, ul {\\n\\tlist-style: none;\\n}\\nblockquote, q {\\n\\tquotes: none;\\n}\\nblockquote:before, blockquote:after,\\nq:before, q:after {\\n\\tcontent: '';\\n\\tcontent: none;\\n}\\ntable {\\n\\tborder-collapse: collapse;\\n\\tborder-spacing: 0;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/reset.css\n// module id = ./src/reset.css\n// module chunks = 0","import App from \"./App\";\nimport React from \"react\";\nimport express from \"express\";\nimport { renderToString } from \"react-dom/server\";\n\nconst bodyParser = require('body-parser');\nconst { Client } = require('pg');\nconst twilio = require('twilio');\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\nconst pgClient = new Client({ssl: true});\nconst TWILIO_ACCOUNT_SID = process.env.RAZZLE_TWILIO_ACCOUNT_SID;\nconst TWILIO_AUTH_TOKEN = process.env.RAZZLE_TWILIO_AUTH_TOKEN;\nconst TWILIO_NUMBER = process.env.RAZZLE_TWILIO_NUMBER;\nconst twilioClient = twilio(TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN);\n\nconst startPgClient = async () => {\n  await pgClient.connect();\n}\nstartPgClient();\n\nconst findUserByNumberQuery = (num) => ({\n  name: 'fetch-breezer',\n  text: 'SELECT * FROM breezers WHERE phone = $1',\n  values: [num]\n});\n\nconst sendSms = (num, res, msg, responseMessage=\"Success!\") => {\n  twilioClient.messages.create({\n    to: num,\n    from: TWILIO_NUMBER,\n    body: msg\n  }, function(err, data) {\n    res.send(responseMessage);\n  });\n}\n\nconst server = express();\nserver\n  .disable(\"x-powered-by\")\n  .use(express.static(process.env.RAZZLE_PUBLIC_DIR))\n  .use(bodyParser.urlencoded({ extended: true }))\n  .use(bodyParser.json())\n  .post('/api/text', (req, postRes) => {\n    const fromNumber = req.body.From.replace('+', '');\n    pgClient.query(findUserByNumberQuery(fromNumber)).then(res => {\n      var message = res.rows.length ? 'Welcome to Brze! Please check back soon for beta!' : 'Welcome to Brze! Please register an account at brze.io and check back for beta!';\n      sendSms(fromNumber, postRes,  message);\n    });\n  })\n  .post('/api/signup', (req, postRes) => {\n    let phoneNumber = req.body.phone.replace(/\\D/g, '');\n    const isValid10 = phoneNumber.match(/^\\d{10}$/g) ? !!phoneNumber.match(/^\\d{10}$/g).length : false;\n    const isValid11 = phoneNumber.match(/^1\\d{10}$/g) ? !!phoneNumber.match(/^1\\d{10}$/g).length : false;\n\n    if(isValid10){\n      phoneNumber = \"1\" + phoneNumber;\n    }\n    \n    if(!isValid10 && !isValid11){\n      postRes.send(\"Please enter a valid phone number!\");\n    }\n    \n    pgClient.query(findUserByNumberQuery(phoneNumber))\n      .then(res => {\n        if(!res.rows.length){\n          const query = {\n            name: 'write-breezer',\n            text: 'INSERT INTO breezers (phone, name, address, addressoptional, zip, email, city, password, state) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9)',\n            values: [phoneNumber, req.body.name, req.body.address, req.body.addressoptional, req.body.zip, req.body.email, req.body.city, req.body.password, req.body.state]\n          }\n          pgClient.query(query).then(res => {\n            console.log(\"see if phone is correct\", req.body);\n            sendSms(phoneNumber, postRes, 'Welcome to Brze! Please check back soon for beta!', 'You have successfully signed up, and should be receiving a text message to confirm.');\n          }).catch(e =>  postRes.send(\"There was an error!\"))\n        } else {\n          postRes.send(\"This number is already signed up!\");\n        }\n      })\n      .catch(e => console.error(\"Sign Up Failure\", e));\n  })\n  .get(\"/*\", (req, res) => {\n    const markup = renderToString(<App />);\n    res.send(\n      `<!doctype html>\n    <html lang=\"\">\n    <head>\n        <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n        <meta charSet='utf-8' />\n        <title>Welcome to Razz a mataz</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        ${assets.client.css\n          ? `<link rel=\"stylesheet\" href=\"${assets.client.css}\">`\n          : \"\"}\n         ${process.env.NODE_ENV === \"production\"\n           ? `<script src=\"${assets.client.js}\" defer></script>`\n           : `<script src=\"${assets.client.js}\" defer crossorigin></script>`}\n    </head>\n    <body>\n        <div id=\"root\">${markup}</div>\n    </body>\n</html>`\n    );\n  });\n\nexport default server;\n\n\n\n// WEBPACK FOOTER //\n// src/server.js","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = babel-runtime/core-js/json/stringify\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/get-prototype-of\"\n// module id = babel-runtime/core-js/object/get-prototype-of\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/asyncToGenerator\"\n// module id = babel-runtime/helpers/asyncToGenerator\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/classCallCheck\"\n// module id = babel-runtime/helpers/classCallCheck\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/createClass\"\n// module id = babel-runtime/helpers/createClass\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/inherits\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/inherits\"\n// module id = babel-runtime/helpers/inherits\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/possibleConstructorReturn\"\n// module id = babel-runtime/helpers/possibleConstructorReturn\n// module chunks = 0","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = babel-runtime/regenerator\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = body-parser\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = express\n// module chunks = 0","module.exports = require(\"pg\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pg\"\n// module id = pg\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = react-dom/server\n// module chunks = 0","module.exports = require(\"twilio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"twilio\"\n// module id = twilio\n// module chunks = 0"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;AC7DA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3EA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAHA;AALA;AAWA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAKA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAMA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAOA;AAAA;AAAA;AAAA;AAAA;AAvBA;AAFA;AA4BA;AA7CA;AADA;AACA;AAiDA;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;AADA;AACA;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AADA;AAkCA;AACA;AACA;AACA;AACA;AAJA;AACA;AAjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AACA;AAeA;AACA;AAWA;AACA;AA/BA;AAgCA;AACA;;;AAOA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAnDA;AAFA;AAyDA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AArIA;AA6IA;;;;AA3NA;AACA;AA6NA;;;;;;;AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AAKA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAoBA;AACA;AACA;;;;;;;;;;;;;;;ACxGA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;A","sourceRoot":""}